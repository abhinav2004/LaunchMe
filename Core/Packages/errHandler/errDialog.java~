/*
 * This file belongs to the Puma Project.
 *
 * This file is under heavy development. But anyone is
 * entitled to change the code as long as they don't
 * break the whole project or a part of it.
 *
 * File belongs to Abhinav Hardikar
 *
 * Developers:
 * 1) Abhinav Hardikar (a.k.a aHardyX) (Contact: ahardyx@yahoo.in)
 */

package Core.errHandler;

import java.io.*;
import java.awt.*;
import java.awt.event.*;
import java.awt.Font.*;
import javax.swing.JDialog;
import javax.swing.JLabel;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JTextField;

import net.miginfocom.layout.*;
import net.miginfocom.swing.*;

public class errDialog extends JDialog implements ActionListener
{
	JLabel img;
	JTextField err_war_msg;
	String title;
	JButton OK;
	Container contentPane;
	Font font;

	public void err(String msg, String type) throws Exception// Syntax: (<Error message>, <Type of Dialog, Warning or error>)
	{
		font = Font.createFont(Font.TRUETYPE_FONT, new File("Core/fonts/ConsolaMono.ttf"));
		contentPane = this.getContentPane();
		err_war_msg = new JTextField(msg);
		OK = new JButton("OK");
			OK.addActionListener(this);
			OK.setFont(font.deriveFont(12f));

		if(type.equals("war"))
		{
			img = new JLabel(new ImageIcon("Core/img/errIcons/warning.png"));
			title = new String("Warning!");
		}
		if(type.equals("err"))
		{
			img = new JLabel(new ImageIcon("Core/img/errIcons/error.png"));
			title = new String("Error!");
		}
		else
			System.out.println("ERROR: There is a problem in the coding. Please contact <developer email> with error code ER001");


		this.setTitle(title);
		this.setLayout(new MigLayout());

		contentPane.add(img, "w 32, h 32, gapleft 10, gaptop 10");
		contentPane.add(err_war_msg, "gapleft 10, gaptop 10, growx, wrap");
		contentPane.add(OK, "span, east");

		this.setVisible(true);
	}

	public void actionPerformed(ActionEvent event)
	{
		if(event.getSource()==OK)
		{
			contentPane.removeAll();
			this.setVisible(false);
		}
	}
}
